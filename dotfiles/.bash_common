#!/bin/bash

function current_branch() {
    ref=$(git symbolic-ref HEAD 2> /dev/null) || return
    echo ${ref#refs/heads/}
}


# start git
alias ggpull='git pull origin $(current_branch)'
alias gl='git pull'
alias glc='git pull origin $(current_branch)'
alias ggpush='git push origin $(current_branch)'
alias ggpnp='git pull origin $(current_branch) && git push origin $(current_branch)'
alias gst="git status"
alias gsp="git stash pop"
alias gsa="git stash"
alias git-conflict='git status | python ~/SkyDrive/repository/utility/git/git_conflict_open.py'
alias git-untracked-delete='git status | python ~/SkyDrive/repository/utility/git/git_untracked_delete.py'

# export GIT_PS1_SHOWUNTRACKEDFILES=1
# export GIT_PS1_SHOWDIRTYSTATE=1
# export GIT_PS1_SHOWSTASHSTATE=1
if [ -f `brew --prefix`/etc/bash_completion.d/git-completion.bash ]; then
    PS1='\[\e[0;37m\]${NAME}\[\e[0;37m\][\t]\[\e[0;37m\]: \[\e[1;37m\]\w\n\[\e[1;33m\]h:\! j:\j\[\e[0;36m\]$(__git_ps1) \[\e[0;34m\]\$\[\e[m\] '
else
    PS1='\[\e[0;37m\]${NAME}\[\e[0;37m\][\t]\[\e[0;37m\]: \[\e[1;37m\]\w\n\[\e[1;33m\]h:\! j:\j \[\e[0;34m\]\$\[\e[m\] '
fi


alias cl='clear'
alias l='ls'
alias ll='ls -l'
alias sub='open -a "Sublime Text"'
alias p="pwd"
alias pypi="python setup.py register; python setup.py sdist upload"
alias pypi3="python3 setup.py register; python3 setup.py sdist upload"
alias ctags="`brew --prefix`/bin/ctags"
